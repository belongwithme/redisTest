# Javaå½’å¹¶æ’åºå®Œå…¨æŒ‡å—

## ğŸ“š å­¦ä¹ ç›®æ ‡
æŒæ¡å½’å¹¶æ’åºçš„æ ¸å¿ƒæ€æƒ³ã€å®ç°æ–¹å¼ã€å¤æ‚åº¦åˆ†æä»¥åŠå®é™…åº”ç”¨

## ğŸ” ä»€ä¹ˆæ˜¯å½’å¹¶æ’åºï¼Ÿ

å½’å¹¶æ’åºæ˜¯ä¸€ç§åŸºäº**åˆ†æ²»æ€æƒ³**çš„ç¨³å®šæ’åºç®—æ³•ã€‚å®ƒçš„æ ¸å¿ƒç†å¿µæ˜¯ï¼š
- **åˆ†è§£**ï¼šå°†æ•°ç»„åˆ†æˆä¸¤åŠ
- **è§£å†³**ï¼šé€’å½’åœ°å¯¹ä¸¤åŠè¿›è¡Œæ’åº
- **åˆå¹¶**ï¼šå°†ä¸¤ä¸ªå·²æ’åºçš„æ•°ç»„åˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„

### æ ¸å¿ƒæ€æƒ³å›¾è§£
```
åŸæ•°ç»„: [38, 27, 43, 3, 9, 82, 10]

åˆ†è§£é˜¶æ®µ:
       [38, 27, 43, 3, 9, 82, 10]
            /              \
    [38, 27, 43]        [3, 9, 82, 10]
      /      \             /        \
  [38]    [27, 43]    [3, 9]    [82, 10]
           /   \       /   \      /    \
        [27]  [43]  [3]  [9]  [82]  [10]

åˆå¹¶é˜¶æ®µ:
        [27]  [43]  [3]  [9]  [82]  [10]
           \   /      \   /      \    /
          [27, 43]   [3, 9]    [10, 82]
              \        /          /
            [3, 9, 27, 43]   [10, 82]
                    \          /
              [3, 9, 10, 27, 43, 82]
```

## ğŸ’» Javaå®ç°

### 1. åŸºç¡€ç‰ˆæœ¬
```java
public class MergeSort {
    
    /**
     * å½’å¹¶æ’åºä¸»æ–¹æ³•
     * @param arr å¾…æ’åºæ•°ç»„
     */
    public static void mergeSort(int[] arr) {
        if (arr == null || arr.length <= 1) {
            return;
        }
        mergeSortHelper(arr, 0, arr.length - 1);
    }
    
    /**
     * é€’å½’åˆ†è§£æ•°ç»„
     * @param arr æ•°ç»„
     * @param left å·¦è¾¹ç•Œ
     * @param right å³è¾¹ç•Œ
     */
    private static void mergeSortHelper(int[] arr, int left, int right) {
        // åŸºå‡†æƒ…å†µï¼šåªæœ‰ä¸€ä¸ªå…ƒç´ æˆ–ç©ºæ•°ç»„
        if (left >= right) {
            return;
        }
        
        // è®¡ç®—ä¸­ç‚¹ï¼Œé¿å…æº¢å‡º
        int mid = left + (right - left) / 2;
        
        // é€’å½’æ’åºå·¦åŠéƒ¨åˆ†
        mergeSortHelper(arr, left, mid);
        
        // é€’å½’æ’åºå³åŠéƒ¨åˆ†
        mergeSortHelper(arr, mid + 1, right);
        
        // åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„
        merge(arr, left, mid, right);
    }
    
    /**
     * åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„
     * @param arr åŸæ•°ç»„
     * @param left å·¦è¾¹ç•Œ
     * @param mid ä¸­ç‚¹
     * @param right å³è¾¹ç•Œ
     */
    private static void merge(int[] arr, int left, int mid, int right) {
        // åˆ›å»ºä¸´æ—¶æ•°ç»„
        int[] temp = new int[right - left + 1];
        
        int i = left;      // å·¦åŠéƒ¨åˆ†æŒ‡é’ˆ
        int j = mid + 1;   // å³åŠéƒ¨åˆ†æŒ‡é’ˆ
        int k = 0;         // ä¸´æ—¶æ•°ç»„æŒ‡é’ˆ
        
        // æ¯”è¾ƒå¹¶åˆå¹¶
        while (i <= mid && j <= right) {
            if (arr[i] <= arr[j]) {
                temp[k++] = arr[i++];
            } else {
                temp[k++] = arr[j++];
            }
        }
        
        // å¤åˆ¶å‰©ä½™å…ƒç´ 
        while (i <= mid) {
            temp[k++] = arr[i++];
        }
        
        while (j <= right) {
            temp[k++] = arr[j++];
        }
        
        // å°†ä¸´æ—¶æ•°ç»„å¤åˆ¶å›åŸæ•°ç»„
        for (int index = 0; index < temp.length; index++) {
            arr[left + index] = temp[index];
        }
    }
}
```

### 2. æµ‹è¯•ä»£ç 
```java
public class MergeSortTest {
    public static void main(String[] args) {
        // æµ‹è¯•ç”¨ä¾‹
        int[] arr1 = {38, 27, 43, 3, 9, 82, 10};
        int[] arr2 = {5, 2, 4, 6, 1, 3};
        int[] arr3 = {1}; // è¾¹ç•Œæƒ…å†µ
        int[] arr4 = {}; // ç©ºæ•°ç»„
        
        System.out.println("æµ‹è¯•1:");
        printArray("æ’åºå‰", arr1);
        MergeSort.mergeSort(arr1);
        printArray("æ’åºå", arr1);
        
        System.out.println("\næµ‹è¯•2:");
        printArray("æ’åºå‰", arr2);
        MergeSort.mergeSort(arr2);
        printArray("æ’åºå", arr2);
    }
    
    private static void printArray(String prefix, int[] arr) {
        System.out.print(prefix + ": ");
        for (int num : arr) {
            System.out.print(num + " ");
        }
        System.out.println();
    }
}
```

## ğŸ“Š å¤æ‚åº¦åˆ†æ

### æ—¶é—´å¤æ‚åº¦

- **æœ€ä½³æƒ…å†µ**: O(n log n)
- **å¹³å‡æƒ…å†µ**: O(n log n)
- **æœ€åæƒ…å†µ**: O(n log n)

**åˆ†æè¿‡ç¨‹**ï¼š

1. **åˆ†è§£é˜¶æ®µ**ï¼šæ¯æ¬¡å°†æ•°ç»„åˆ†æˆä¸¤åŠï¼Œæ€»å…±éœ€è¦ log n å±‚
2. **åˆå¹¶é˜¶æ®µ**ï¼šæ¯å±‚éœ€è¦ O(n) æ—¶é—´æ¥åˆå¹¶æ‰€æœ‰å­æ•°ç»„
3. **æ€»æ—¶é—´å¤æ‚åº¦**ï¼šO(n) Ã— O(log n) = O(n log n)

### ç©ºé—´å¤æ‚åº¦

- **O(n)**ï¼šéœ€è¦é¢å¤–çš„ä¸´æ—¶æ•°ç»„æ¥å­˜å‚¨åˆå¹¶ç»“æœ

### é€’å½’è°ƒç”¨æ ˆ

- **O(log n)**ï¼šé€’å½’æ·±åº¦ä¸º log n

## âš¡ å½’å¹¶æ’åºçš„ç‰¹ç‚¹

### ä¼˜ç‚¹

1. **ç¨³å®šæ€§**ï¼šç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹ä½ç½®ä¸ä¼šæ”¹å˜
2. **æ—¶é—´å¤æ‚åº¦ç¨³å®š**ï¼šæ— è®ºä»€ä¹ˆæƒ…å†µéƒ½æ˜¯ O(n log n)
3. **å¯é¢„æµ‹æ€§**ï¼šæ€§èƒ½ä¸ä¾èµ–äºæ•°æ®çš„åˆå§‹çŠ¶æ€
4. **é€‚åˆå¤–éƒ¨æ’åº**ï¼šå¯ä»¥å¤„ç†å¤§é‡æ•°æ®

### ç¼ºç‚¹

1. **ç©ºé—´å¤æ‚åº¦é«˜**ï¼šéœ€è¦ O(n) çš„é¢å¤–ç©ºé—´
2. **ä¸æ˜¯åŸåœ°æ’åº**ï¼šéœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´

## ğŸ”§ ä¼˜åŒ–ç­–ç•¥

### 1. å°æ•°ç»„ä¼˜åŒ–

å¯¹äºå°æ•°ç»„ï¼Œæ’å…¥æ’åºå¯èƒ½æ›´å¿«ï¼š
```java
private static void mergeSortOptimized(int[] arr, int left, int right) {
    // å¯¹å°æ•°ç»„ä½¿ç”¨æ’å…¥æ’åº
    if (right - left <= 10) {
        insertionSort(arr, left, right);
        return;
    }
    
    int mid = left + (right - left) / 2;
    mergeSortOptimized(arr, left, mid);
    mergeSortOptimized(arr, mid + 1, right);
    merge(arr, left, mid, right);
}
```

### 2. åˆ¤æ–­æ˜¯å¦å·²æ’åº

```java
private static void mergeSortOptimized2(int[] arr, int left, int right) {
    if (left >= right) return;
    
    int mid = left + (right - left) / 2;
    mergeSortOptimized2(arr, left, mid);
    mergeSortOptimized2(arr, mid + 1, right);
    
    // å¦‚æœå·²ç»æœ‰åºï¼Œè·³è¿‡åˆå¹¶
    if (arr[mid] <= arr[mid + 1]) {
        return;
    }
    
    merge(arr, left, mid, right);
}
```

## ğŸ¯ å®é™…åº”ç”¨åœºæ™¯

1. **å¤–éƒ¨æ’åº**ï¼šå¤„ç†æ— æ³•å®Œå…¨åŠ è½½åˆ°å†…å­˜çš„å¤§æ–‡ä»¶
2. **ç¨³å®šæ’åºéœ€æ±‚**ï¼šéœ€è¦ä¿æŒç›¸ç­‰å…ƒç´ ç›¸å¯¹ä½ç½®çš„åœºæ™¯
3. **é“¾è¡¨æ’åº**ï¼šå½’å¹¶æ’åºç‰¹åˆ«é€‚åˆé“¾è¡¨
4. **åˆ†å¸ƒå¼æ’åº**ï¼šMapReduceæ¡†æ¶ä¸­çš„æ’åºé˜¶æ®µ

## ğŸ¤” å¸¸è§é¢è¯•é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆå½’å¹¶æ’åºæ˜¯ç¨³å®šçš„ï¼Ÿ

**ç­”**ï¼šåœ¨åˆå¹¶è¿‡ç¨‹ä¸­ï¼Œå½“ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯å…ˆå–å·¦è¾¹æ•°ç»„çš„å…ƒç´ ï¼Œè¿™ä¿è¯äº†ç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹ä½ç½®ä¸å˜ã€‚

### Q2: å½’å¹¶æ’åºå’Œå¿«é€Ÿæ’åºæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**ç­”**ï¼š
- **æ—¶é—´å¤æ‚åº¦**ï¼šå½’å¹¶æ’åºç¨³å®š O(n log n)ï¼Œå¿«æ’æœ€å O(nÂ²)
- **ç©ºé—´å¤æ‚åº¦**ï¼šå½’å¹¶æ’åº O(n)ï¼Œå¿«æ’ O(log n)
- **ç¨³å®šæ€§**ï¼šå½’å¹¶æ’åºç¨³å®šï¼Œå¿«æ’ä¸ç¨³å®š
- **å®é™…æ€§èƒ½**ï¼šå¿«æ’é€šå¸¸æ›´å¿«ï¼ˆå¸¸æ•°å› å­æ›´å°ï¼‰

### Q3: å¦‚ä½•ç”¨å½’å¹¶æ’åºå¯¹é“¾è¡¨æ’åºï¼Ÿ

**ç­”**ï¼šé“¾è¡¨ç‰ˆæœ¬ä¸éœ€è¦é¢å¤–çš„ O(n) ç©ºé—´ï¼Œåªéœ€è¦é‡æ–°è¿æ¥èŠ‚ç‚¹å³å¯ã€‚

## ğŸ“ ç»ƒä¹ é¢˜

1. å®ç°ä¸€ä¸ªè‡ªåº•å‘ä¸Šçš„å½’å¹¶æ’åºï¼ˆéé€’å½’ç‰ˆæœ¬ï¼‰
2. ç”¨å½’å¹¶æ’åºæ€æƒ³è§£å†³"é€†åºå¯¹"é—®é¢˜
3. å®ç°é“¾è¡¨çš„å½’å¹¶æ’åº
4. ä¼˜åŒ–å½’å¹¶æ’åºçš„ç©ºé—´ä½¿ç”¨

## ğŸ“ å­¦ä¹ å»ºè®®

1. **ç†è§£åˆ†æ²»æ€æƒ³**ï¼šè¿™æ˜¯æŒæ¡å½’å¹¶æ’åºçš„å…³é”®
2. **æ‰‹åŠ¨æ¨¡æ‹Ÿè¿‡ç¨‹**ï¼šåœ¨çº¸ä¸Šç”»å‡ºåˆ†è§£å’Œåˆå¹¶çš„è¿‡ç¨‹
3. **ç¼–å†™æµ‹è¯•ç”¨ä¾‹**ï¼šåŒ…æ‹¬è¾¹ç•Œæƒ…å†µå’Œç‰¹æ®Šæƒ…å†µ
4. **åˆ†æå¤æ‚åº¦**ï¼šç†è§£ä¸ºä»€ä¹ˆæ˜¯ O(n log n)
5. **å¯¹æ¯”å…¶ä»–æ’åº**ï¼šäº†è§£å½’å¹¶æ’åºçš„ä¼˜ç¼ºç‚¹

---

**ä¸‹ä¸€æ­¥å­¦ä¹ **ï¼šå¯ä»¥ç»§ç»­å­¦ä¹ å¿«é€Ÿæ’åºã€å †æ’åºç­‰å…¶ä»– O(n log n) ç®—æ³•ï¼Œå¹¶æ¯”è¾ƒå®ƒä»¬çš„ç‰¹ç‚¹ã€‚
