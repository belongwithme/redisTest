@[TOC](HashTable)
### HashTable和HashMap的主要区别
1. 线程安全性
HashTable是线程安全的，通过synchronized关键字实现。但这种粗粒度的同步机制导致性能较差，因为所有操作都要串行执行。相比之下，HashMap不是线程安全的，但性能更好。
2. null值处理
HashTable不允许null键和null值，而HashMap都允许。这个设计选择反映了两者的使用场景差异：HashTable更注重数据的完整性和一致性。
3. 初始容量和扩容机制
HashTable默认初始容量是11，扩容是2n+1
HashMap默认是16，扩容是2n
这个差异很有意思，体现了两种不同的设计思路：
HashTable用奇数来减少哈希冲突
HashMap用2的幂简化位运算"

### HashTable的线程安全实现及问题
HashTable的线程安全实现比较简单直接，在方法上直接使用synchronized关键字加锁。
这种实现方式存在明显问题：
1. 性能瓶颈：所有操作都要竞争同一把锁
2. 粒度过大：即使操作不同的数据也要串行执行
3. 伸缩性差：并发度受限，CPU核数越多性能越差
这也是为什么后来出现了ConcurrentHashMap，它通过分段锁和CAS等机制提供了更好的并发性能。

### 为什么初始容量是11而不是2的幂
素数作为容量可以让哈希值的分布更均匀。因为素数不能被其他数整除，减少了规律性哈希值的碰撞概率。


